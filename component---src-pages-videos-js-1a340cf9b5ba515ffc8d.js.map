{"version":3,"sources":["webpack:///./src/components/video_list_item.js","webpack:///./src/components/video_list.js","webpack:///./src/components/video_detail.js","webpack:///./src/pages/videos.js","webpack:///./node_modules/hyvor-talk-react/dist/index.es.js"],"names":["VideoListItem","props","video","onUserSelected","imageUrl","thumb_url","setSelectedIndex","active","id","selectedIndex","React","createElement","onClick","className","alt","src","title","VideoList","videoItems","videos","map","node","idx","onVideoSelect","key","VideoDetail","isPlaying","player","playing","url","raw_url","moveNext","ReactPlayer","ref","_player","width","height","controls","loop","onPause","onEnded","Videos","_React$Component","_this","call","state","Store","getVideos","selectedVideo","length","onChange","bind","_inheritsLoose","_proto","prototype","componentWillMount","addChangeListener","this","componentWillUnmount","removeChangeListener","componentDidMount","Actions","setState","render","DefaultLayout","SEO","Container","Row","play","currentIndex","userSelected","index","HyvorTalk","Embed","websiteId","Component","addScript","script","document","body","appendChild","removeScript","getElementById","parentElement","removeChild","classCallCheck","instance","Constructor","TypeError","createClass","defineProperties","target","i","descriptor","enumerable","configurable","writable","Object","defineProperty","protoProps","staticProps","inherits","subClass","superClass","create","constructor","value","setPrototypeOf","__proto__","possibleConstructorReturn","self","ReferenceError","getPrototypeOf","apply","arguments","window","HYVOR_TALK_WEBSITE","HYVOR_TALK_CONFIG","loadMode","language","sso","palette","setVariables","CommentCount","scriptId","mode"],"mappings":"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","file":"component---src-pages-videos-js-1a340cf9b5ba515ffc8d.js","sourcesContent":["import React from 'react';\n\nconst VideoListItem = (props) => {\n    const video = props.video;\n    const onUserSelected = props.onUserSelected;\n    const imageUrl = video.thumb_url;\n    const setSelectedIndex = props.setSelectedIndex;\n    const active = props.id === props.selectedIndex;\n    return (\n        <li onClick={() => {\n            setSelectedIndex(props.id);\n            onUserSelected(video)\n        }\n        }\n            className={\"list-group-item \" + ((active) ? \"active\" : \"\")}\n        >\n            <div className=\"video-list media\">\n                <div className=\"media-first m-auto\">\n                    <span className=\"media-scope\">â–¶</span>\n                </div>\n                <div className=\"media-left ml-2 mr-2\">\n                    <img alt=\"\" className=\"media-object\" src={imageUrl}/>\n                </div>\n                <div className=\"media-body m-auto\">\n                    <div className=\"media-heading font-weight-bold\">{video.title}</div>\n                </div>\n            </div>\n        </li>\n    );\n};\n\nexport default VideoListItem;","import React from 'react';\nimport VideoListItem from './video_list_item';\n\nconst VideoList = (props) => {\n    const videoItems = props.videos.map((node, idx) => {\n        return (\n            <VideoListItem\n                onUserSelected={props.onVideoSelect}\n                setSelectedIndex={props.setSelectedIndex}\n                selectedIndex={props.selectedIndex}\n                key={idx}\n                id={idx}\n                video={node}/>\n        );\n    });\n\n    return (\n        <ul className=\"col-md-4 list-group mt-4 mt-md-0\">\n            {videoItems}\n        </ul>\n    );\n};\n\nexport default VideoList;","import React, {useState} from 'react';\nimport ReactPlayer from 'react-player'\n\nconst VideoDetail = (props) => {\n    const isPlaying = props.isPlaying;\n    let player = null;\n    const playing = props.playing;\n    const video = props.video;\n\n    if (!video) {\n        return <div className=\"col-md-8\">Loading...</div>;\n    }\n\n    const url = video.raw_url;\n\n    const moveNext = props.moveNext;\n    return (\n        <div className=\"video-detail col-md-8\">\n            <div className=\"embed-responsive embed-responsive-16by9 player-wrapper\">\n                <ReactPlayer\n                    ref={_player => player = _player}\n                    className='react-player'\n                    width='100%'\n                    height='100%'\n                    url={url}\n                    playing={playing}\n                    controls={true}\n                    loop={false}\n                    onPause={() => {\n                        isPlaying(false);\n                    }}\n                    onEnded={() => moveNext()}\n                    // onReady={() => console.log('onReady')}\n                    // onStart={() => console.log('onStart')}\n                />\n            </div>\n            <div className=\"details\">\n                <div>{video.title}</div>\n            </div>\n        </div>\n    );\n};\n\nexport default VideoDetail;","import React from \"react\"\nimport SEO from \"../components/seo\"\nimport VideoList from '../components/video_list'\nimport VideoDetail from '../components/video_detail';\nimport DefaultLayout from \"../layout/default\";\nimport {Container, Row} from \"reactstrap\"\nimport {graphql, StaticQuery} from \"gatsby\";\nimport Store from \"../flux/store\";\nimport {Actions} from \"../flux\";\nimport HyvorTalk from \"hyvor-talk-react\";\n\n\nclass Videos extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {\n            videos: Store.getVideos(),\n            selectedVideo: (Store.getVideos().length > 0) ? Store.getVideos()[0] : null,\n            playing: false,\n            selectedIndex: 0\n        };\n\n        this.onChange = this.onChange.bind(this);\n    }\n\n\n    componentWillMount() {\n        Store.addChangeListener(this.onChange);\n    }\n\n    componentWillUnmount() {\n        Store.removeChangeListener(this.onChange);\n    }\n\n    componentDidMount() {\n        Actions.getVideos();\n    }\n\n    onChange() {\n        this.setState({\n            ...this.state,\n            videos: Store.getVideos(),\n            selectedVideo: (Store.getVideos().length > 0) ? Store.getVideos()[0] : null,\n        });\n    }\n\n\n    render() {\n        const {videos} = this.state;\n\n        return (\n            <DefaultLayout>\n                <SEO title=\"Videos\"/>\n                {/*<NormalHeader title=\"Videos\"/>*/}\n                <div className=\"subpage mb-4\">\n                    <div className=\"section\">\n                        <Container>\n                            <h3 className=\"title\">Videos</h3>\n                            <Row>\n                                <VideoDetail\n                                    video={this.state.selectedVideo}\n                                    isPlaying={play => this.setState({\n                                        playing: play\n                                    })}\n                                    moveNext={() => {\n                                        const currentIndex = this.state.selectedIndex;\n                                        const num = this.state.videos.length;\n                                        if ((currentIndex + 1) < num) {\n                                            this.setState({\n                                                selectedIndex: currentIndex + 1,\n                                                playing: true,\n                                                selectedVideo: this.state.videos[currentIndex + 1]\n                                            })\n                                        }\n                                    }}\n                                    playing={this.state.playing}\n                                />\n                                <VideoList\n                                    onVideoSelect={userSelected => this.setState({\n                                        selectedVideo: userSelected,\n                                        playing: true\n                                    })}\n                                    setSelectedIndex={index => this.setState({\n                                        selectedIndex: index,\n                                    })}\n                                    selectedIndex={this.state.selectedIndex}\n                                    videos={this.state.videos}\n                                />\n                            </Row>\n                            <HyvorTalk.Embed id=\"videos\" websiteId={1128}/>\n                        </Container>\n                    </div>\n                </div>\n            </DefaultLayout>\n        )\n    }\n};\nexport default Videos\n","import React from 'react';\nfunction addScript(src, id) {\n  var script = document.createElement('script');\n  script.src = src;\n  script.id = id;\n  document.body.appendChild(script);\n}\nfunction removeScript(id) {\n  var script = document.getElementById(id);\n  if (id) {\n    script.parentElement.removeChild(script);\n  }\n}\nvar classCallCheck = function (instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n};\nvar createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\nvar inherits = function (subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n};\nvar possibleConstructorReturn = function (self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n};\n\n/**\r\n * Embeds Hyvor Talk thread on a web page\r\n */\n\nvar Embed = function (_React$Component) {\n  inherits(Embed, _React$Component);\n  function Embed() {\n    classCallCheck(this, Embed);\n    return possibleConstructorReturn(this, (Embed.__proto__ || Object.getPrototypeOf(Embed)).apply(this, arguments));\n  }\n  createClass(Embed, [{\n    key: 'setVariables',\n    value: function setVariables() {\n      window.HYVOR_TALK_WEBSITE = this.props.websiteId;\n      window.HYVOR_TALK_CONFIG = {\n        url: this.props.url || false,\n        id: this.props.id || false,\n        title: this.props.title || document.title,\n        loadMode: this.props.loadMode || 'default',\n        language: this.props.language || null,\n        sso: this.props.sso || null,\n        palette: this.props.palette || null\n      };\n    }\n  }, {\n    key: 'addScript',\n    value: function addScript$$1() {\n      if (document.getElementById('ht-embed-script')) {\n        removeScript('ht-embed-script');\n      }\n      addScript('//talk.hyvor.com/web-api/embed', 'ht-embed-script');\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.setVariables();\n      this.addScript();\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.createElement('div', {\n        id: 'hyvor-talk-view'\n      });\n    }\n  }]);\n  return Embed;\n}(React.Component);\nvar CommentCount = function (_React$Component) {\n  inherits(CommentCount, _React$Component);\n  function CommentCount() {\n    classCallCheck(this, CommentCount);\n    return possibleConstructorReturn(this, (CommentCount.__proto__ || Object.getPrototypeOf(CommentCount)).apply(this, arguments));\n  }\n  createClass(CommentCount, [{\n    key: 'setVariables',\n    value: function setVariables() {\n      if (this.props.websiteId) {\n        window.HYVOR_TALK_WEBSITE = this.props.websiteId;\n      }\n    }\n  }, {\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      this.setVariables();\n      var scriptId = 'ht-comment-count-script';\n      if (document.getElementById(scriptId)) {\n        removeScript(scriptId);\n      }\n      addScript('//talk.hyvor.com/web-api/count/', scriptId);\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return React.createElement('span', {\n        'data-talk-id': this.props.id,\n        'data-talk-mode': this.props.mode || 'default'\n      });\n    }\n  }]);\n  return CommentCount;\n}(React.Component);\nvar HyvorTalk = {\n  Embed: Embed,\n  CommentCount: CommentCount\n};\nexport default HyvorTalk;"],"sourceRoot":""}